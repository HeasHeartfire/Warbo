<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="canvasengine-1.3.2.all.min.js"></script>
<script src="Tiled.js"></script>
<script src="socket.io.min.js"></script>

<script>
    CE.connectServer('http://127.0.0.1', 8333);
    var canvas = CE.defines("canvas_id").
    extend(Tiled).
    ready(function() {
        canvas.Scene.call("Scene_Map");
    });

    canvas.Scene.New({
        name: "Scene_Map",
        events: ["load"],
        materials: {
            images: {
                tileset: "spritesheet.png"
            }
        },
        load: function(data) {

            var tiled = canvas.Tiled.New();
            var tiled = canvas.Tiled.New(), 
                stage = this.getStage(),
                _canvas = this.getCanvas(),
                map = this.createElement();

            tiled.ready(function() {
                map.pack(this.getWidthPixel(), this.getHeightPixel());
            });

            tiled.load(this, map, data);

            stage.append(map);

        }

    });

</script>
</head>
 <body>
    <canvas id="canvas_id" width="675px" height="506px"></canvas>
 </body>
</html>

